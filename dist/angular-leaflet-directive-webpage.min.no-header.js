/*!
*  angular-leaflet-directive-webpage 0.0.1 2015-11-08
*  angular-leaflet-directive-webpage - An AngularJS webpage which shows how to use angular-leaflet-directive
*  git: https://github.com/tombatossals/angular-leaflet-directive/tree/gh-pages
*/
(function(angular){
'use strict';
!function(a){"use strict";function b(b,c,d,e,f,g,h,i,j){function k(){var a=f.defer();return e.jsonp("bower_components/geodata/cities.jsonp"),window.citiesCallback=function(b){a.resolve(b)},a.promise}function l(a){return a.split("/")[1]}function m(a){return a.split("/")[2]}function n(a){var b=Object.keys(a);return a[b[b.length*Math.random()<<0]]}function o(){k().then(function(a){var b=n(a);p.center={lat:b.lat,lng:b.lon,zoom:3},p.markers={city:{lat:b.lat,lng:b.lon,wikipedia:b.wikipedia,label:{message:b.city,options:{noHide:!0}}}}})}var p=this;b.config([{path:"/",redirectTo:"/home"},{path:"/home",components:{main:"home"},as:"home"},{path:"/documentation/:subsection",components:{main:"documentation"},as:"documentation"},{path:"/examples/:section/:example",components:{main:"examples",left:"exlist"}},{path:"/extend",components:{main:"extend"},as:"extend"}]);var q={home:"Getting started",documentation:"Documentation",examples:"Examples",extend:"How to extend"};c.$on("$locationChangeSuccess",function(a,b){if(p.section=l(d.path()),"documentation"===p.section&&(p.subsection=m(d.path())),"examples"===p.section){var c={section:"basic",example:"first-example"};j.getExample(c).then(function(a){p.example=a})}p.name=q[p.section]}),o(),g(o,5e3),h.$on("leafletDirectiveMarker.click",function(a,b){var c=b.model;i.location.href="http://en.wikipedia.org/wiki/"+c.wikipedia}),a.extend(p,{center:{lat:40.095,lng:23.823,zoom:4},tiles:{name:"Mapbox Outdoors",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia3no0m"}},markers:{},defaults:{scrollWheelZoom:!1,attributionControl:!1,tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",tileLayerOptions:{opacity:.9,detectRetina:!0,reuseTiles:!0}}})}function c(b,c){var d=c.defer();return b.get("examples/json/examples.json").success(function(a){d.resolve(a)}),{getExamples:function(){return d.promise.then(function(a){return a})},getExample:function(e){var f=c.defer();return d.promise.then(function(c){if(c[e.section]){var d={};return a.forEach(c[e.section],function(a){a.id==="/"+e.section+"/"+e.example&&(d=a)}),d?b.get("examples/"+d.extUrl).success(function(a){d.source=a,f.resolve(d)}):void f.resolve(d)}}),f.promise},getSections:function(){return d.promise.then(function(a){return Object.keys(a).map(function(a){return{id:a,name:a.charAt(0).toUpperCase()+a.slice(1),active:!1}})})}}}function d(){}function e(a,b,c){var d=this;a.section&&c.getExample(a).then(function(a){d.example=a})}function f(a,b,c){var d=this;c.getSections().then(function(a){d.sections=a}),c.getExamples().then(function(a){d.examples=a})}function g(){}function h(b){a.extend(b,{center:{lat:51.505,lng:-.09,zoom:4},tiles:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"},defaults:{scrollWheelZoom:!1}})}function i(){}function h(b){a.extend(b,{center:{lat:51.505,lng:-.09,zoom:6},tiles:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"},defaults:{scrollWheelZoom:!1}})}function j(){}var k=a.module("webapp",["ngNewRouter","leaflet-directive","hljs","hc.marked","webapp.directives","webapp.services","webapp.home","webapp.void","webapp.exlist","webapp.documentation","webapp.examples","webapp.extend"]);k.controller("AppController",b);k.config(["markedProvider",function(a){a.setOptions({gfm:!0,tables:!0,highlight:function(a){return hljs.highlightAuto(a).value}})}]),b.$inject=["$router","$scope","$location","$http","$q","$interval","$rootScope","$window","Examples"];var k=a.module("webapp.directives",[]);k.directive("ngExample",["$http","$compile",function(a,b){return{restrict:"A",scope:{source:"="},replace:!0,template:"<div></div>",link:function(a,c,d){a.$watch("source",function(d){if(d){var e=(new DOMParser).parseFromString(d,"text/html"),f=e.body,g=f.getAttribute("ng-controller"),h=b('<div ng-controller="'+g+'">'+f.innerHTML.replace('height="480px"','height="360px"')+"</div>")(a);c.append(h)}})}}}]),function(a){function b(a){var b={};return b.getLocationsTenGrid=function(){return a.get("json/mockupTenGrid.json",{cache:!0})},b.getLocationsZeroOneGrid=function(){return a.get("json/mockupZeroOneGrid.json",{cache:!0})},{getLocationsTenGrid:function(){return b.getLocationsTenGrid()},getLocationsZeroOneGrid:function(){return b.getLocationsZeroOneGrid()}}}var c=a.module("webapp");c.controller("BasicAccessLeafletObjectController",["$scope","leafletLogger","leafletData",function(b,c,d){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4}}),b.fitBounds=function(){d.getMap().then(function(a){a.fitBounds([[40.712,-74.227],[40.774,-74.125]])})}}]),c.controller("BasicBoundsController",["$scope","leafletData","leafletBoundsHelpers",function(b,c,d){var e=d.createBoundsFromArray([[51.508742458803326,-.087890625],[51.508742458803326,-.087890625]]);a.extend(b,{bounds:e,center:{}})}]),c.controller("BasicBoundsNominatimController",["$scope",function(b){a.extend(b,{bounds:{address:"Bath, UK"}})}]),c.controller("BasicCenterAutodiscoverController",["$scope",function(b){a.extend(b,{center:{autoDiscover:!0}})}]),c.controller("BasicCenterController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4}})}]),c.controller("BasicCenterGeoIPController",["$scope","$http",function(b,c){a.extend(b,{center:{lat:0,lng:0,zoom:2}}),b.searchIP=function(a){var d="http://freegeoip.net/json/"+a;c.get(d).success(function(a){b.center={lat:a.latitude,lng:a.longitude,zoom:10},b.ip=a.ip})},b.searchIP("")}]),c.controller("BasicCenterUrlHashController",["$scope","$location",function(b,c){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4}}),b.$on("centerUrlHash",function(a,b){console.log("url",b),c.search({c:b})}),b.changeLocation=function(a){c.search({c:a})}}]),c.controller("BasicCustomParametersController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",zoomControlPosition:"topright",tileLayerOptions:{opacity:.9,detectRetina:!0,reuseTiles:!0},scrollWheelZoom:!1}})}]),c.controller("BasicDoubleMapAccessMapObjectController",["$scope","leafletLogger","leafletData",function(b,c,d){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},markers:{london:{lat:51.505,lng:-.09,draggable:!0}},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"}}),b.logLeafletData=function(a){d.getMap(a).then(function(a){c.info(a)})}}]),c.controller("BasicDoubleMapEventsController",["$scope","leafletLogger","leafletData","leafletEvents",function(b,c,d,e){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},markers:{london:{lat:51.505,lng:-.09,draggable:!0}},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"}}),b.events={map:{enable:e.getAvailableMapEvents(),logic:"emit"}};var f=e.getAvailableMapEvents();for(var g in f){var h="leafletDirectiveMap."+f[g];b.$on(h,function(a){b.eventDetected=a.name})}a.extend(b,{spain:{lat:40.095,lng:-3.823,zoom:4},markers2:{spain:{lat:51.505,lng:-.09,draggable:!0}},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"}}),b.events2={map:{enable:["click","dblclick"],logic:"emit"}};var i=b.events2.map.enable;for(var j in i){var k="leafletDirectiveMap."+f[j];b.$on(k,function(a){b.eventDetected2=a.name})}}]),c.controller("BasicDoubleMapSharingAttributesController",["$scope","leafletLogger","$http","leafletData",function(b,c,d,e){a.extend(b,{center:{lat:43.735,lng:-79.3734,zoom:11},defaults:{scrollWheelZoom:!1},markers1:{one:{lat:43.75,lng:-79.56},two:{lat:43.76,lng:-79.5}},markers2:{one:{lat:43.75,lng:-79.56},two:{lat:43.75,lng:-79.45},three:{lat:43.81,lng:-79.26}}}),d.get("json/toronto1.json").success(function(a,c){b.toronto1=a}),d.get("json/toronto2.json").success(function(a,c){b.toronto2=a})}]),c.controller("BasicDoubleMapToggleController",["$scope","leafletLogger","leafletData",function(b,c,d){a.extend(b,{center:{lat:51.505,lng:-.09,zoom:5},paths:{p1:{color:"blue",weight:8,latlngs:[{lat:51.5,lng:-.082},{lat:48.83,lng:2.37},{lat:41.91,lng:12.48}]}}}),a.extend(b,{center2:{lat:51.505,lng:-.09,zoom:5},tiles2:{name:"Mapbox Outdoors",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia3no0m"}},paths2:{p1:{color:"red",weight:8,latlngs:[{lat:51.5,lng:-.082},{lat:48.83,lng:2.37},{lat:41.91,lng:12.48}]}}})}]),c.controller("BasicDynamicAddRemoveMapExample",["$scope","leafletData",function(a,b){}]),c.controller("BasicEventsController",["$scope","leafletMapEvents",function(a,b){a.center={lat:51.505,lng:-.09,zoom:8},a.eventDetected="No events yet...";var c=b.getAvailableMapEvents();for(var d in c){var e="leafletDirectiveMap."+c[d];a.$on(e,function(b){a.eventDetected=b.name})}}]),c.controller("BasicFirstController",["$scope",function(a){}]),c.controller("BasicGeoJSONUpdateController",["$scope","$http","leafletData",function(b,c,d){a.extend(b,{center:{lat:31.99,lng:-33.43,zoom:3},geojson:{data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[-49.92187499999999,13.239945499286312],[-49.92187499999999,54.57206165565852],[-13.7109375,54.57206165565852],[-13.7109375,13.239945499286312],[-49.92187499999999,13.239945499286312]]]}}]},style:{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}}),b.updateGeojson=function(){b.geojson.data={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[-41.8359375,28.92163128242129],[-41.8359375,38.272688535980976],[-26.015625,38.272688535980976],[-26.015625,28.92163128242129],[-41.8359375,28.92163128242129]]]}}]}}}]),c.controller("BasicHideShowMapController",["$scope","$timeout","leafletData",function(a,b,c){a.center={lat:35,lng:0,zoom:8},a.showMap=!1,a.$watch("showMap",function(a){a===!0&&c.getMap().then(function(a){b(function(){a.invalidateSize()},300)})})}]),c.controller("BasicLegendController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:12},legend:{position:"bottomleft",colors:["#ff0000","#28c9ff","#0000ff","#ecf386"],labels:["National Cycle Route","Regional Cycle Route","Local Cycle Network","Cycleway"]},defaults:{tileLayer:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"}})}]),c.controller("BasicMapWithoutAnimationsController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},defaults:{zoomAnimation:!1,markerZoomAnimation:!1,fadeAnimation:!1},markers:{london:{lat:51.505,lng:-.09}}})}]),c.controller("BasicMaxBoundsController",["$scope","leafletData",function(b,c){b.regions={london:{northEast:{lat:51.51280224425956,lng:-.11681556701660155},southWest:{lat:51.50211782162702,lng:-.14428138732910156}},lisbon:{southWest:{lat:38.700247900602726,lng:-9.165430068969727},northEast:{lat:38.72703673982525,lng:-9.110498428344725}},warszawa:{southWest:{lat:52.14823737817847,lng:20.793685913085934},northEast:{lat:52.31645452105213,lng:21.233139038085938}}},a.extend(b,{maxbounds:b.regions.london})}]),c.controller("BasicMaxBoundsPadController",["$scope","leafletBoundsHelpers",function(b,c){var d=c.createBoundsFromArray([[37.8866,-79.4877],[39.723,-74.9863]]);d.pad=1,a.extend(b,{bounds:d,center:{lat:37.8866,lng:-4956,zoom:4},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{}},markers:{northeast:{lat:39.723,lng:-74.9863,focus:!0,title:"Northeast"},southwest:{lat:37.8866,lng:-79.4877,title:"Southwest"}},maxbounds:d})}]),c.controller("BasicTilesController",["$scope",function(b){var c={openstreetmap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},opencyclemap:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",options:{attribution:'All maps &copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, map data &copy; <a href="http://www.openstreetmap.org">OpenStreetMap</a> (<a href="http://www.openstreetmap.org/copyright">ODbL</a>'}},mapbox_outdoors:{name:"Mapbox Outdoors",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia3no0m"}},mapbox_wheat:{name:"Mapbox Wheat Paste",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia35jfp"}}};a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},tiles:c.mapbox_wheat}),b.changeTiles=function(a){b.tiles=c[a]}}]),c.controller("BasicTilesWMSController",["$scope",function(b){var c={openstreetmap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},standard:{name:"MAP Standard",type:"wms",url:"https://api.minu.mn/wms",layerParams:{layers:"mongolid:mimap",format:"image/png",transparent:!0,tiled:!0,version:"1.3.0",maxZoom:19}},blue:{name:"MAP Blue",type:"wms",url:"https://api.minu.mn/wms",layerParams:{layers:"mongolid:mimap_blue",format:"image/png",transparent:!0,tiled:!0,version:"1.3.0",maxZoom:19}}};a.extend(b,{ulaanbaatar:{lat:47.918464,lng:106.917678,zoom:5},tiles:c.openstreetmap}),b.changeTiles=function(a){b.tiles=c[a]}}]),c.controller("BasicTilesZoomChangerController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:10},tiles:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}),b.$watch("london.zoom",function(a){b.tiles.url=a>12?"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}]),c.controller("ControlsCustomController",["$scope",function(b){a.extend(b,{london:{lat:37.8,lng:-96,zoom:5},tiles:{name:"Mapbox Comic",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lpa06kfg"}},controls:{custom:new L.Control.Fullscreen}})}]),c.controller("ControlsCustomLayerControlController",["$scope",function(b){a.extend(b,{layercontrol:{icons:{uncheck:"fa fa-toggle-off",check:"fa fa-toggle-on"}},madrid:{lat:40.415363,lng:-3.707398,zoom:11},markers:{m1:{lat:42.20133,lng:2.1911}},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cycle:{name:"OpenCycleMap",type:"xyz",url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.opencyclemap.org/copyright">OpenCycleMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913},group:"Raster"},fire:{name:"Fire Stations",type:"xyz",url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0},group:"Open Fire Map"},em:{name:"Emergency Rooms",type:"xyz",url:"http://openfiremap.org/eytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0},group:"Open Fire Map"}}},removeFireLayer:function(){delete this.layers.overlays.fire},addFireLayer:function(){this.layers.overlays.fire={name:"Fire Stations",type:"xyz",url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0},group:"Open Fire Map"}},existsFireLayer:function(){return"fire"in this.layers.overlays},removeEmergencyRooms:function(){delete this.layers.overlays.em},addEmergencyRooms:function(){this.layers.overlays.em={name:"Emergency Rooms",type:"xyz",url:"http://openfiremap.org/eytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0},group:"Open Fire Map"}},existsEmergencyRooms:function(){return"em"in this.layers.overlays},removeHillshadeLayer:function(){delete this.layers.overlays.hillshade},addHillshadeLayer:function(){this.layers.overlays.hillshade={name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913},group:"Raster"}},existsHillshadeLayer:function(){return"hillshade"in this.layers.overlays}})}]),c.controller("ControlsDrawController",["$scope","leafletData",function(b,c){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},controls:{draw:{}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"},layerParams:{showOnSelector:!1}}},overlays:{draw:{name:"draw",type:"group",visible:!0,layerParams:{showOnSelector:!1}}}}}),c.getMap().then(function(a){c.getLayers().then(function(b){var c=b.overlays.draw;a.on("draw:created",function(a){var b=a.layer;c.addLayer(b),console.log(JSON.stringify(b.toGeoJSON()))})})})}]),c.controller("ControlsFullscreenController",["$scope",function(b){a.extend(b,{london:{lat:37.8,lng:-96,zoom:5},tiles:{name:"Mapbox Comic",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lpa06kfg"}},controls:{fullscreen:{position:"topleft"}}})}]),c.controller("ControlsMinimapController",["$scope","leafletData",function(b,c){a.extend(b,{bogota:{lat:4.649,lng:-74.086,zoom:5},tiles:{name:"Mapbox Comic",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lpa06kfg"}},controls:{}}),c.getMap().then(function(){a.extend(b.controls,{minimap:{type:"minimap",layer:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"},toggleDisplay:!0}})})}]),c.controller("ControlsScaleController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},controls:{scale:!0}})}]),c.controller("ControlsSearchController",["$scope","leafletData",function(b,c){var d=[{loc:[41.57533,13.102411],title:"aquamarine"},{loc:[41.57573,13.002411],title:"black"},{loc:[41.807149,13.162994],title:"blue"},{loc:[41.507149,13.172994],title:"chocolate"},{loc:[41.847149,14.132994],title:"coral"},{loc:[41.21919,13.062145],title:"cyan"},{loc:[41.34419,13.242145],title:"darkblue"},{loc:[41.67919,13.122145],title:"darkred"},{loc:[41.32919,13.192145],title:"darkgray"},{loc:[41.37929,13.122545],title:"dodgerblue"},{loc:[41.40919,13.362145],title:"gray"},{loc:[41.794008,12.583884],title:"green"},{loc:[41.805008,12.982884],title:"greenyellow"},{loc:[41.536175,13.27359],title:"red"},{loc:[41.516175,13.37359],title:"rosybrown"},{loc:[41.506175,13.17359],title:"royalblue"},{loc:[41.836175,13.67359],title:"salmon"},{loc:[41.796175,13.57059],title:"seagreen"},{loc:[41.436175,13.57359],title:"seashell"},{loc:[41.336175,13.97359],title:"silver"},{loc:[41.236175,13.27359],title:"skyblue"},{loc:[41.546175,13.47359],title:"yellow"},{loc:[41.23919,13.032145],title:"white"}];a.extend(b,{center:{lat:41.57533,lng:13.102411,zoom:8},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"},layerParams:{showOnSelector:!1}}},overlays:{search:{name:"search",type:"group",visible:!0,layerParams:{showOnSelector:!1}}}},controls:{},markers:{}}),d.filter(function(a){b.markers[a.title]={title:a.title,lat:a.loc[0],lng:a.loc[1],layer:"search",label:{message:a.title}}}),c.getLayers().then(function(c){console.log(c.overlays.search),a.extend(b.controls,{search:{layer:c.overlays.search}})})}]),c.controller("GeoJSONCenterController",["$scope","$http","leafletData",function(b,c,d){a.extend(b,{japan:{lat:27.26,lng:78.86,zoom:2},defaults:{scrollWheelZoom:!1}}),b.centerJSON=function(){d.getMap().then(function(a){var c=[];for(var d in b.geojson.data.features[0].geometry.coordinates){var e=b.geojson.data.features[0].geometry.coordinates[d];for(var f in e){var g=e[f];for(var h in g)c.push(L.GeoJSON.coordsToLatLng(g[h]))}}a.fitBounds(c)})},c.get("json/JPN.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}})})}]),c.controller("GeoJSONController",["$scope","$http","leafletData",function(b,c,d){a.extend(b,{japan:{lat:38.51,lng:139,zoom:4},defaults:{scrollWheelZoom:!1}}),c.get("json/JPN.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}})})}]),c.controller("GeoJSONNestedController",["$scope","$http","leafletData",function(b,c,d){d.getGeoJSON().then(function(a){window.leafletDataGeoJSON=a}),a.extend(b,{japan:{lat:27.26,lng:78.86,zoom:2},defaults:{scrollWheelZoom:!1},geojson:{}});var e=function(a,b){var c=b.target;c.setStyle({weight:2,color:"#666",fillColor:"white"}),c.bringToFront()};b.$on("leafletDirectiveGeoJson.mouseover",function(a,b){e(b.leafletObject.feature,b.leafletEvent)}),b.centerJSON=function(a){d.getMap().then(function(c){window.leafletMap=c;var d=[];for(var e in b.geojson[a].data.features[0].geometry.coordinates){var f=b.geojson[a].data.features[0].geometry.coordinates[e];for(var g in f){var h=f[g];for(var i in h)d.push(L.GeoJSON.coordsToLatLng(h[i]))}}c.fitBounds(d)})},c.get("json/JPN.geo.json").success(function(c,d){a.extend(b.geojson,{japan:{data:c,resetStyleOnMouseout:!0,style:{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}})}),c.get("json/USA.geo.json").success(function(c,d){a.extend(b.geojson,{usa:{data:c,resetStyleOnMouseout:!0,style:{fillColor:"blue",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}})})}]),c.controller("GeoJSONNonNestedController",["$scope","$http","leafletData",function(b,c,d){var e=function(a){return"USA"==a?"blue":"green"},f=function(a){return{fillColor:e(a.id),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}},g=function(a){return{data:a,style:f}};a.extend(b,{japan:{lat:27.26,lng:78.86,zoom:2},defaults:{scrollWheelZoom:!1}}),b.centerJSON=function(a){d.getMap().then(function(c){var d=[];for(var e in b.geojson.data.features[a].geometry.coordinates){var f=b.geojson.data.features[a].geometry.coordinates[e];for(var g in f){var h=f[g];for(var i in h)d.push(L.GeoJSON.coordsToLatLng(h[i]))}}c.fitBounds(d)})},c.get("json/JPN.geo.json").success(function(a,c){b.geojson||(b.geojson=g(a))}),c.get("json/USA.geo.json").success(function(c,d){var e=b.geojson.data.features.concat(c.features),f=a.extend({},b.geojson.data);f.features=e,b.geojson.data=f})}]),c.controller("GoogleMapsController",["$scope",function(b){a.extend(b,{berlin:{lat:52.52,lng:13.4,zoom:14},markers:{m1:{lat:52.52,lng:13.4}},layers:{baselayers:{googleTerrain:{name:"Google Terrain",layerType:"TERRAIN",type:"google"},googleHybrid:{name:"Google Hybrid",layerType:"HYBRID",type:"google"},googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}}})}]),c.controller("GoogleMapsFullsizeController",["$scope","$element",function(b,c){a.extend(b,{berlin:{lat:52.52,lng:13.4,zoom:14},markers:{m1:{lat:52.52,lng:13.4}},layers:{baselayers:{googleTerrain:{name:"Google Terrain",layerType:"TERRAIN",type:"google"},googleHybrid:{name:"Google Hybrid",layerType:"HYBRID",type:"google"},googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}}})}]),c.controller("ImageLegendServiceController",["$scope",function(b){a.extend(b,{options:{controls:{layers:{visible:!1}}},usa:{lat:39.931486,lng:-101.40625,zoom:3},markers:{m1:{lat:39.931486,lng:-101.40625}},layers:{baselayers:{googleTerrain:{name:"Google Terrain",layerType:"TERRAIN",type:"google"}},overlays:{sst:{name:"Analyses - Sea Surface Temperature",type:"wms",url:"http://nowcoast.noaa.gov/wms/com.esri.wms.Esrimap/analyses",visible:!0,layerOptions:{layers:"NCEP_RAS_ANAL_RTG_SST,NCEP_POLY_ANAL_RTG_SST",format:"image/png",transparent:!0,attribution:"NOAA/NOS nowCOAST"}},wave:{name:"Forecasts - Wave height",type:"wms",url:"http://nowcoast.noaa.gov/wms/com.esri.wms.Esrimap/forecasts",visible:!1,layerOptions:{layers:"NDFD_RAS_WAVEH_3_00,NDFD_POLY_WAVEH_3_00",format:"image/png",transparent:!0,attribution:"NOAA/NOS nowCOAST"}}}},legend:{url:"http://nowcoast.noaa.gov/LayerInfo?layer=NCEP_RAS_ANAL_RTG_SST&data=legend",legendClass:"info legend",position:"bottomleft",type:"image"},legendURL1:"http://nowcoast.noaa.gov/LayerInfo?layer=NCEP_RAS_ANAL_RTG_SST&data=legend",legendURL2:"http://nowcoast.noaa.gov/LayerInfo?layer=NDFD_RAS_WAVEH_3_00&data=legend",switchLegend:function(){b.layers.overlays.sst.visible=!b.layers.overlays.sst.visible,b.layers.overlays.wave.visible=!b.layers.overlays.wave.visible,b.legend.url==b.legendURL1?b.legendURL2:b.legendURL1}})}]),c.controller("LayersBingMapsController",["$scope",function(b){a.extend(b,{bastia:{lat:42.7029,lng:9.4529,zoom:13},markers:{bastia:{lat:67.6755,lng:9.4529}},layers:{baselayers:{bingAerial:{name:"Bing Aerial",type:"bing",key:"Aj6XtE1Q1rIvehmjn2Rh1LR2qvMGZ-8vPS9Hn3jCeUiToM77JFnf-kFRzyMELDol",layerOptions:{type:"Aerial"}},bingRoad:{name:"Bing Road",type:"bing",key:"Aj6XtE1Q1rIvehmjn2Rh1LR2qvMGZ-8vPS9Hn3jCeUiToM77JFnf-kFRzyMELDol",layerOptions:{type:"Road"}},bingAerialWithLabels:{name:"Bing Aerial With Labels",type:"bing",key:"Aj6XtE1Q1rIvehmjn2Rh1LR2qvMGZ-8vPS9Hn3jCeUiToM77JFnf-kFRzyMELDol",layerOptions:{type:"AerialWithLabels"}}}}})}]),c.controller("LayersDynamicAdditionController",["$scope",function(b){b.definedLayers={mapbox_wheat:{name:"Mapbox Wheat Paste",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia35jfp"}},osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},b.definedOverlays={hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913}}},a.extend(b,{bern:{lat:46.916,lng:7.466,zoom:10},layers:{baselayers:{osm:b.definedLayers.osm,mapbox_wheat:b.definedLayers.mapbox_wheat},overlays:{hillshade:b.definedOverlays.hillshade}}}),b.toggleLayer=function(a){var c=b.layers.baselayers;c.hasOwnProperty(a)?delete c[a]:c[a]=b.definedLayers[a]},b.toggleOverlay=function(a){var c=b.layers.overlays;c.hasOwnProperty(a)?delete c[a]:c[a]=b.definedOverlays[a]}}]),c.controller("LayersEsriBaseMapLayerController",["$scope",function(b){a.extend(b,{bogota:{lat:4.649,lng:-74.086,zoom:5},markers:{m1:{lat:4.649,lng:-74.086}},layers:{baselayers:{streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1},topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1},national:{name:"National Geographic",type:"agsBase",layer:"NationalGeographic",visible:!1},oceans:{name:"Oceans",type:"agsBase",layer:"Oceans",visible:!1},gray:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1},darkgray:{name:"DarkGray",type:"agsBase",layer:"DarkGray",visible:!1},imagery:{name:"Imagery",type:"agsBase",layer:"Imagery",visible:!1},shadedrelief:{name:"ShadedRelief",type:"agsBase",layer:"ShadedRelief",visible:!1},terrain:{name:"Terrain",type:"agsBase",layer:"Terrain",visible:!1}}}})}]),c.controller("LayersEsriClusteredLayerController",["$scope",function(b){a.extend(b,{porland:{lat:45.526,lng:-122.667,zoom:15},layers:{baselayers:{streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1}},overlays:{simple:{name:"Simple",type:"agsClustered",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Trimet_Transit_Stops/FeatureServer/0",visible:!0}}}})}]),c.controller("LayersEsriDynamicLayerController",["$scope",function(b){a.extend(b,{bogota:{lat:4.649,lng:-74.086,zoom:15},markers:{m1:{lat:4.649,lng:-74.086}},layers:{baselayers:{world:{name:"Imagery",type:"agsDynamic",url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",visible:!1,layerOptions:{layers:[0,1,2,3],opacity:1,attribution:"Copyright:© 2014 Esri, DeLorme, HERE, TomTom"}},topo:{name:"World Topographic",type:"agsDynamic",url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",visible:!1,layerOptions:{layers:[0],opacity:.9,attribution:"Copyright:© 2014 Esri, FAO, NOAA"}}}}})}]),c.controller("LayersEsriFeatureLayerController",["$scope",function(b){a.extend(b,{layercontrol:{icons:{uncheck:"fa fa-toggle-off",check:"fa fa-toggle-on"}},porland:{lat:45.526,lng:-122.667,zoom:14},layers:{baselayers:{streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1}},overlays:{simple:{name:"Simple",type:"agsFeature",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Heritage_Trees_Portland/FeatureServer/0",visible:!0,group:"Test"},points:{name:"Styling Points",type:"agsFeature",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Trimet_Transit_Stops/FeatureServer/0",visible:!1,layerOptions:{pointToLayer:function(a,c){return a.properties.direction?L.marker(c,{icon:b.busIcons[a.properties.direction.toLowerCase()]}):L.marker(c)}},group:"Test"},lines:{name:"Styling Lines",type:"agsFeature",url:"http://services.arcgis.com/uCXeTVveQzP4IIcx/ArcGIS/rest/services/Bike_Routes/FeatureServer/0",visible:!1,layerOptions:{style:function(a){var b,c=.75;switch(a.properties.BIKEMODE){case"Low traffic through street":b="#007D7D";break;case"Bike boulevard":b="#00FF3C";break;case"Caution area":b="#FF0000";break;case"Local multi-use path":b="#00BEFF";break;case"Regional multi-use path":b="#b1a9d0";break;case"Moderate traffic through street":b="#FFEB00";break;case"Planned multi-use path":b="#000000";break;case"Bike lane":b="#328000",c="0.70";break;case"High traffic through street":b="#FFA500";break;case"Planned bike lane":b="#000000",c="1.0";break;default:b="#C0C0C0"}return{color:b,opacity:c,weight:5}}},group:"Test"},polygons:{name:"Styling Polygons",type:"agsFeature",url:"http://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_Congressional_Districts/FeatureServer/0",visible:!1,layerOptions:{simplifyFactor:.5,precision:5,style:function(a){return"Democrat"===a.properties.PARTY?{color:"blue",weight:2}:"Republican"===a.properties.PARTY?{color:"red",weight:2}:{color:"white",weight:2}}},group:"Test"
},group:{name:"Grouped",type:"group",layerOptions:{layers:[{name:"Simple",type:"agsFeature",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Heritage_Trees_Portland/FeatureServer/0",visible:!0,group:"Test"},{name:"Styling Points",type:"agsFeature",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Trimet_Transit_Stops/FeatureServer/0",visible:!1,layerOptions:{pointToLayer:function(a,c){return a.properties.direction?L.marker(c,{icon:b.busIcons[a.properties.direction.toLowerCase()]}):L.marker(c)}}}]}}}},busIcons:{north:L.icon({iconUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-north.png",iconRetinaUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-north@2x.png",iconSize:[27,31],iconAnchor:[13.5,17.5],popupAnchor:[0,-11]}),south:L.icon({iconUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-south.png",iconRetinaUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-south@2x.png",iconSize:[27,31],iconAnchor:[13.5,13.5],popupAnchor:[0,-11]}),east:L.icon({iconUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-east.png",iconRetinaUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-east@2x.png",iconSize:[31,27],iconAnchor:[13.5,17.5],popupAnchor:[0,-11]}),west:L.icon({iconUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-west.png",iconRetinaUrl:"http://esri.github.io/esri-leaflet/img/bus-stop-west@2x.png",iconSize:[31,27],iconAnchor:[17.5,13.5],popupAnchor:[0,-11]})}})}]),c.controller("LayersEsriHeatmapLayerController",["$scope",function(b){a.extend(b,{center:{lat:40.706,lng:-73.926,zoom:14},layers:{baselayers:{streets:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1}},overlays:{simple:{name:"Simple",type:"agsHeatmap",url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/ArcGIS/rest/services/Graffiti_Reports/FeatureServer/0",visible:!0,layerOptions:{radius:14,gradient:{.2:"#ffffb2",.4:"#fd8d3c",.6:"#fd8d3c",.8:"#f03b20",1:"#bd0026"}}}}}})}]),c.controller("LayersEsriImageLayerController",["$scope",function(b){a.extend(b,{center:{lat:43.415,lng:-124.228,zoom:13},layers:{baselayers:{gray:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1}},overlays:{infrared:{name:"Infrared Imagery",type:"agsImage",url:"http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2011/NAIP_2011_Dynamic/ImageServer",visible:!0,layerOptions:{bandIds:"3,0,1"}}}}})}]),c.controller("LayersEsriLegendServiceController",["$scope",function(b){a.extend(b,{options:{controls:{layers:{visible:!1}}},usa:{lat:39.931486,lng:-101.40625,zoom:3},markers:{m1:{lat:39.931486,lng:-101.40625}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}},overlays:{usa_pop:{name:"USA 2000-2010 Population Change",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer",visible:!0,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, DeLorme, HERE, TomTom"}},usa_social:{name:"USA Social Vulnerability Index",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer",visible:!1,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, FAO, NOAA"}}}},legend:{url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendClass:"info legend-esri",position:"bottomleft"},legendURL1:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendURL2:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer/legend?f=json",switchLegend:function(){b.layers.overlays.usa_social.visible=!b.layers.overlays.usa_social.visible,b.legend.url=b.legend.url==b.legendURL1?b.legendURL2:b.legendURL1}})}]),c.controller("LayersEsriTiledMapLayerController",["$scope",function(b){a.extend(b,{center:{lat:30.7,lng:-81.47,zoom:9},layers:{baselayers:{historic:{name:"Historic Topographic Maps",type:"agsTiled",url:"http://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer",visible:!1},navigation:{name:"World Navigation Charts",type:"agsTiled",url:"http://services.arcgisonline.com/ArcGIS/rest/services/Specialty/World_Navigation_Charts/MapServer",visible:!1}}}})}]),c.controller("LayersHeatmapController",["$scope","$http",function(b,c){c.get("json/heat-points.json").success(function(a){b.layers.overlays={heat:{name:"Heat Map",type:"heat",data:a,layerOptions:{radius:20,blur:10},visible:!0}}}),a.extend(b,{center:{lat:37.774546,lng:-122.433523,zoom:12},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}}}})}]),c.controller("LayersHideBaselayerOnSelectorController",["$scope",function(b){a.extend(b,{center:{lat:39,lng:-100,zoom:4},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz",layerOptions:{showOnSelector:!1}}},overlays:{wms:{name:"EEUU States (WMS)",type:"wms",visible:!0,url:"http://suite.opengeo.org/geoserver/usa/wms",layerParams:{layers:"usa:states",format:"image/png",transparent:!0}}}}})}]),c.controller("LayersHideOverlaysOnSelectorController",["$scope",function(b){a.extend(b,{center:{lat:39,lng:-100,zoom:4},defaults:{scrollWheelZoom:!1},layers:{baselayers:{xyz:{name:"Mapbox Streets",url:"http://a.tiles.mapbox.com/v3/examples.map-i86nkdio/{z}/{x}/{y}.png",type:"xyz",layerOptions:{showOnSelector:!0,apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.ll5em372"}}},overlays:{wms:{name:"EEUU States (WMS)",type:"wms",visible:!0,url:"http://suite.opengeo.org/geoserver/usa/wms",layerParams:{showOnSelector:!1,layers:"usa:states",format:"image/png",transparent:!0}}}}})}]),c.controller("LayersImageOverlayController",["$scope","leafletLogger","leafletData","leafletBoundsHelpers",function(b,c,d,e){var f=e.createBoundsFromArray([[-540,-960],[540,960]]);a.extend(b,{defaults:{scrollWheelZoom:!1,crs:"Simple",maxZoom:2},center:{lat:0,lng:0,zoom:0},maxbounds:f,layers:{baselayers:{sanfrancisco:{name:"Andes",type:"imageOverlay",url:"images/andes.jpg",bounds:[[-540,-960],[540,960]],layerParams:{showOnSelector:!1,noWrap:!0,attribution:'Creative Commons image found <a href="http://www.flickr.com/photos/c32/8025422440/">here</a>'}}}}})}]),c.controller("LayersLayergroupSimpleController",["$scope",function(b){a.extend(b,{center:{lat:39,lng:-100,zoom:3},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{}}});var c={name:"Countries",type:"xyz",url:"http://{s}.tiles.mapbox.com/v3/milkator.press_freedom/{z}/{x}/{y}.png",visible:!0,layerOptions:{attribution:'Map data &copy; 2013 Natural Earth | Data &copy; 2013 <a href="http://www.reporter-ohne-grenzen.de/ranglisten/rangliste-2013/">ROG/RSF</a>',maxZoom:5}},d={name:"UtfGrid",type:"utfGrid",url:"http://{s}.tiles.mapbox.com/v3/milkator.press_freedom/{z}/{x}/{y}.grid.json?callback={cb}",visible:!0,pluginOptions:{maxZoom:5,resolution:4}},e={name:"Group Layer",type:"group",visible:!0,layerOptions:{layers:[c,d],maxZoom:5}};b.layers.overlays["Group Layer"]=e,b.$on("leafletDirectiveMap.utfgridMouseover",function(a,c){b.country=c.data.name})}]),c.controller("LayersOverlayGeoJSONController",["$scope","$http",function(b,c){a.extend(b,{world:{lat:0,lng:0,zoom:3},layers:{baselayers:{osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{}}}),c.get("json/countries.geo.json").success(function(c,d){a.extend(b.layers.overlays,{countries:{name:"World Country Boundaries",type:"geoJSONShape",data:c,visible:!0,layerOptions:{style:{color:"#00D",fillColor:"red",weight:2,opacity:.6,fillOpacity:.2}}}})}),c.get("json/major_cities.json").success(function(c,d){a.extend(b.layers.overlays,{cities:{name:"Major Cities (Awesome Markers)",type:"geoJSONAwesomeMarker",data:c,visible:!0,icon:{icon:"heart",markerColor:"red",prefix:"fa"}}})})}]),c.controller("LayersOverlaysHideOnZoomOutController",["$scope",function(b){a.extend(b,{center:{lat:39,lng:-100,zoom:4},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{wms:{name:"EEUU States (WMS)",type:"wms",visible:!0,url:"http://suite.opengeo.org/geoserver/usa/wms",layerParams:{layers:"usa:states",format:"image/png",transparent:!0}}}}}),b.$watch("center.zoom",function(a){b.layers.overlays.wms.visible=a>=4})}]),c.controller("LayersOverlaysMarkerclusterController",["$scope",function(b){a.extend(b,{ripoll:{lat:42.20133,lng:2.1911,zoom:8},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cycle:{name:"OpenCycleMap",type:"xyz",url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.opencyclemap.org/copyright">OpenCycleMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913}},cars:{name:"Cars",type:"markercluster",visible:!0}}},markers:{m1:{lat:42.20133,lng:2.1911,layer:"cars",message:"I'm a moving car"},m2:{lat:42.21133,lng:2.1811,layer:"cars",message:"I'm a car"},m3:{lat:42.19133,lng:2.1811,layer:"cars",message:"A bike!!"},m4:{lat:42.3,lng:2.1611,layer:"cars"},m5:{lat:42.1,lng:2.1691,layer:"cars"},m6:{lat:42.15,lng:2.1711,layer:"cars"}}}),b.move=function(){b.markers.m1.lng=b.markers.m1.lng+.1}}]),c.controller("LayersOverlaysMarkersNestedController",["$scope","leafletData","$timeout",function(b,c,d){var e;c.getMap().then(function(a){e=a}),a.extend(b,{eraseMarkers:function(){b.markers={cars:{m1:{lat:42.20133,lng:2.1911,message:"I'm a car"}}},c.getMarkers().then(function(a){b.hasM1=e.hasLayer(a.m1),b.hasM2=e.hasLayer(a.m2)}),d(function(){c.getMarkers().then(function(a){b.lMarkers=Object.keys(a),b.hasM1=e.hasLayer(a.m1),b.hasM2=e.hasLayer(a.m2)})},1e3)},lMarkers:{},ripoll:{lat:42.20133,lng:2.1911,zoom:11},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cycle:{name:"OpenCycleMap",type:"xyz",url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.opencyclemap.org/copyright">OpenCycleMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913}},fire:{name:"OpenFireMap",type:"xyz",url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cars:{name:"Cars",type:"group",visible:!0},bikes:{name:"Bicycles",type:"group",visible:!1},runners:{name:"Runners",type:"group",visible:!1}}},markers:{cars:{m1:{lat:42.20133,lng:2.1911,message:"I'm a car"},m2:{lat:42.21133,lng:2.1811,message:"I'm a car"}},bikes:{m3:{lat:42.19133,lng:2.1811,layer:"bikes",message:"A bike!!"},m4:{lat:42.3,lng:2.1611,layer:"bikes"}},runners:{m5:{lat:42.1,lng:2.1691},m6:{lat:42.15,lng:2.1711}}}})}]),c.controller("LayersOverlaysPathsController",["$scope",function(b){var c={London:{lat:51.5,lng:-.082,draggable:!1},Manchester:{lat:53.48,lng:-2.24,draggable:!0},Lincoln:{lat:53.230495,lng:-.53936,draggable:!0},Northhampton:{lat:52.237892,lng:-.90087,draggable:!0},Worcester:{lat:52.187404,lng:-2.20275,draggable:!0},York:{lat:53.959317,lng:-1.08215,draggable:!0}};a.extend(b,{cen:{lat:53,lng:-3,zoom:6},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cycle:{name:"OpenCycleMap",type:"xyz",url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.opencyclemap.org/copyright">OpenCycleMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913}},fire:{name:"OpenFireMap",type:"xyz",url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},lines:{name:"Lines",type:"group",visible:!0},shapes:{name:"Shapes",type:"group",visible:!1}}},markers:c,paths:{p1:{color:"#008000",weight:4,latlngs:[c.London,c.Manchester],layer:"lines"},p2:{weight:3,opacity:.5,latlngs:[[c.London,c.Lincoln],[c.Manchester,c.Worcester]],type:"multiPolyline",layer:"lines"},c1:{weight:2,color:"#ff612f",latlngs:c.Northhampton,radius:1e4,type:"circle",layer:"shapes"},c2:{weight:2,color:"#ff612f",latlngs:c.Lincoln,radius:50,type:"circleMarker",layer:"shapes"},pg1:{latlngs:[c.London,c.Worcester,c.Lincoln],stroke:!1,fillColor:"#ff69b4",type:"polygon",layer:"shapes"},pg2:{weight:1,color:"#2e3974",latlngs:[[c.London,c.Worcester,c.Northhampton],[c.Manchester,c.Lincoln,c.York]],type:"multiPolygon",layer:"shapes"},r1:{latlngs:[c.Lincoln,c.York],type:"rectangle",layer:"shapes"}}})}]),c.controller("LayersOverlaysSimpleController",["$scope",function(b){a.extend(b,{center:{lat:39,lng:-100,zoom:4},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{wms:{name:"EEUU States (WMS)",type:"wms",visible:!0,url:"http://suite.opengeo.org/geoserver/usa/wms",layerParams:{layers:"usa:states",format:"image/png",transparent:!0}}}}})}]),c.controller("LayersRefreshOverlayEveryMinuteController",["$scope","$interval",function(b,c){a.extend(b,{amberes:{lat:51.2,lng:4.4,zoom:8},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia3no0m"}}},overlays:{traffic:{name:"Traffic Jams",type:"xyz",url:"http://map.be-mobile.be/customer/mobileninja/nl/los/{z}/{x}/{y}.png",visible:1,doRefresh:!1}}}});var d=60,e=0;c(function(){e===d?(b.layers.overlays.traffic.doRefresh=!0,console.log("Overlay refreshed."),e=0):(console.log("Next update of overlay in "+(d-e)+" seconds."),e+=1)},1e3)}]),c.controller("LayersSimpleController",["$scope",function(b){a.extend(b,{center:{lat:25.0391667,lng:121.525,zoom:6},markers:{taipei:{lat:25.0391667,lng:121.525}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}},osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}}}})}]),c.controller("LayersUTFGridController",["$scope",function(b){a.extend(b,{center:{lat:0,lng:0,zoom:1},layers:{baselayers:{xyz:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{demosutfgrid:{name:"UTFGrid Interactivity",type:"utfGrid",url:"http://{s}.tiles.mapbox.com/v3/mapbox.geography-class/{z}/{x}/{y}.grid.json?callback={cb}",visible:!0}}}}),b.interactivity="",b.flag="",b.$on("leafletDirectiveMap.utfgridMouseover",function(a,c){b.interactivity=c.data.admin,b.flag="data:image/png;base64,"+c.data.flag_png}),b.$on("leafletDirectiveMap.utfgridMouseout",function(a,c){b.interactivity="",b.flag=""})}]),c.controller("LayersWMSWithDifferentProjectionController",["$scope","$location",function(a){a.map={defaults:{crs:new L.Proj.CRS("EPSG:3006","+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:[8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5],origin:[0,0]}),continuousWorld:!0},malmo:{lat:55.5902,lng:12.9956,zoom:3},layers:{baselayers:{malmo:{name:"Fishery",type:"wms",url:"http://geodatatest.havochvatten.se/geoservices/ows",visible:!0,layerOptions:{layers:"hav-fisketsgeografier:havet-ostersjons-delomraden",format:"image/png",maxZoom:14,minZoom:0,continuousWorld:!0,attribution:'&copy; <a href="https://www.havochvatten.se/kunskap-om-vara-vatten/kartor-och-geografisk-information/karttjanster.html">Havs- och vattenmyndigheten (Swedish Agency for Marine and Water Management)</a>'}}}}}}]),c.controller("LayersWebGLHeatmapController",["$scope",function(b){var c=[[44.651144316,-63.586260171,.5],[44.75,-63.5,.8]];a.extend(b,{center:{lat:44.8091,lng:-63.3636,zoom:9},layers:{baselayers:{osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}},overlays:{heatmap:{name:"Heat Map",type:"webGLHeatmap",data:c,visible:!0}}}})}]),c.controller("LayersYandexController",["$scope",function(b){a.extend(b,{berlin:{lat:52.52,lng:13.4,zoom:14},markers:{m1:{lat:52.52,lng:13.4}},layers:{baselayers:{yandex:{name:"Yandex",type:"yandex",layerOptions:{layerType:"map"}},yandexTraffic:{name:"Yandex Traffic",type:"yandex",layerOptions:{layerType:"map",traffic:!0}}}}})}]),c.controller("LegendEsriLegendServiceController",["$scope",function(b){a.extend(b,{options:{controls:{layers:{visible:!1}}},usa:{lat:39.931486,lng:-101.40625,zoom:3},markers:{m1:{lat:39.931486,lng:-101.40625}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}},overlays:{usa_pop:{name:"USA 2000-2010 Population Change",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer",visible:!0,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, DeLorme, HERE, TomTom"}},usa_social:{name:"USA Social Vulnerability Index",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer",visible:!1,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, FAO, NOAA"}}}},legend:{url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendClass:"info legend-esri",position:"bottomleft"},legendURL1:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendURL2:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer/legend?f=json",switchLegend:function(){b.layers.overlays.usa_social.visible=!b.layers.overlays.usa_social.visible,b.legend.url=b.legend.url==b.legendURL1?b.legendURL2:b.legendURL1}})}]),c.controller("LegendEsriMultilayerLegendServiceController",["$scope",function(b){a.extend(b,{options:{controls:{layers:{visible:!1}}},usa:{lat:39.931486,lng:-101.40625,zoom:3},markers:{m1:{lat:39.931486,lng:-101.40625}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}},overlays:{usa_pop:{name:"USA 2000-2010 Population Change",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer",visible:!0,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, DeLorme, HERE, TomTom"}},usa_social:{name:"USA Social Vulnerability Index",type:"agsDynamic",url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer",visible:!1,layerOptions:{opacity:.85,attribution:"Copyright:© 2014 Esri, FAO, NOAA"}}}},legend:{url:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendClass:"info legend-esri",position:"bottomleft"},legendURL1:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/legend?f=json",legendURL2:"http://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Social_Vulnerability_Index/MapServer/legend?f=json",switchLegend:function(){b.layers.overlays.usa_social.visible=!b.layers.overlays.usa_social.visible,b.legend.url=b.legend.url==b.legendURL1?b.legendURL2:b.legendURL1}})}]),c.controller("MarkersAddRemoveController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{}}),b.addMarkers=function(){a.extend(b,{markers:{m1:{lat:51.505,lng:-.09,message:"I'm a static marker"},m2:{lat:51,lng:0,focus:!0,message:"Hey, drag me if you want",draggable:!0}}})},b.removeMarkers=function(){b.markers={}},b.addMarkers()}]),c.controller("MarkersAngularTemplateController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},data:{markers:{}}}),b.addMarkers=function(){b.data.markers={},a.extend(b.data,{angularInterpolatedMessage:"Angular interpolated message!"}),a.extend(b.data,{markers:{m1:{lat:51.505,lng:-.09,compileMessage:!1,message:"I'm a static marker"},m2:{lat:51,lng:0,focus:!0,message:"<div ng-include src=\"'views/template.html'\"></div>",draggable:!0},m3:{lat:51,lng:-1,getMessageScope:function(){return b},message:"<p>{{data.angularInterpolatedMessage}}</p>",compileMessage:!0}}})},b.removeMarkers=function(){b.data.markers={}},b.addMarkers()}]),c.controller("ViewController",["$scope",function(a){a.user={},a.greet=function(a){alert("hello "+a.name)}}]),c.controller("MarkersChangeOpacityController",["$scope",function(b){a.extend(b,{chicago:{lat:41.85,lng:-87.65,zoom:8},markers:{m1:{lat:41.85,lng:-87.65,message:"I'm a static marker with defaultIcon",focus:!1,opacity:1}}})}]),c.controller("MarkersClustering10000MarkersController",["$scope","$http",function(b,c){var d=function(a){return a.map(function(a){return{layer:"realworld",lat:a[0],lng:a[1]}})};a.extend(b,{center:{lat:-37.9212959167,lng:175.5604435167,zoom:11},events:{map:{enable:["moveend","popupopen"],logic:"emit"},marker:{enable:[],logic:"emit"}},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}},overlays:{realworld:{name:"Real world data",type:"markercluster",visible:!0}}}}),c.get("json/realworld.10000.json").success(function(a){b.markers=d(a)})}]),c.controller("MarkersClusteringController",["$scope",function(b){a.extend(b,{center:{lat:24.0391667,lng:121.525,zoom:6},markers:{taipei:{layer:"northTaiwan",lat:25.0391667,lng:121.525},yangmei:{layer:"northTaiwan",lat:24.9166667,lng:121.1333333},hsinchu:{layer:"northTaiwan",lat:24.8047222,lng:120.9713889},miaoli:{layer:"northTaiwan",lat:24.5588889,lng:120.8219444},tainan:{layer:"southTaiwan",lat:22.9933333,lng:120.2036111},puzi:{layer:"southTaiwan",lat:23.4611,lng:120.242},kaohsiung:{layer:"southTaiwan",lat:22.6252777778,lng:120.3088888889},taitun:{layer:"southTaiwan",lat:22.75,lng:121.15}},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiYnVmYW51dm9scyIsImEiOiJLSURpX0pnIn0.2_9NrLz1U9bpwMQBhVk97Q",mapid:"bufanuvols.lia22g09"}}},overlays:{northTaiwan:{name:"North cities",type:"markercluster",visible:!0},southTaiwan:{name:"South cities",type:"markercluster",visible:!0}}}})}]),c.controller("MarkersClusteringWithoutOverlaysController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{stoke:{group:"london",lat:51.5615,lng:-.0731,label:{message:"Stoke",options:{noHide:!0}}},dalston:{group:"london",lat:51.545,lng:-.07,label:{message:"Dalston",options:{noHide:!0}}},wandsworth:{group:"london",lat:51.4644,lng:-.1924,label:{message:"Wandsworth",options:{noHide:!0}}},battersea:{group:"london",lat:51.4638,lng:-.1677,label:{message:"Battersea",options:{noHide:!0}}}}})}]),c.controller("MarkersDelayedEventsController",["$scope","leafletEvents",function(b,c){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{}}),b.addMarkers=function(){a.extend(b,{markers:{m1:{lat:51.505,lng:-.09,message:"I'm a static marker"},m2:{lat:51,lng:0,focus:!0,message:"Hey, drag me if you want",draggable:!0}}})},b.events={markers:{enable:c.getAvailableMarkerEvents()}},b.eventDetected="No events yet...";var d=c.getAvailableMarkerEvents();for(var e in d){var f="leafletDirectiveMarker."+d[e];b.$on(f,function(a,c){b.eventDetected=a.name})}b.removeMarkers=function(){b.markers={}}}]),c.controller("MarkersEventsAddController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},events:{}}),b.markers=new Array,b.$on("leafletDirectiveMap.click",function(a,c){var d=c.leafletEvent;b.markers.push({lat:d.latlng.lat,lng:d.latlng.lng,message:"My Added Marker"})})}]),c.controller("MarkersEventsController",["$scope","leafletMarkerEvents","leafletLogger",function(a,b,c){a.center={lat:51.505,lng:-.09,zoom:8},a.markers={london:{lat:51.505,lng:-.09,draggable:!0,message:"I'm a draggable marker",focus:!0}},a.events={markers:{enable:b.getAvailableEvents()}},a.eventDetected="No events yet...";var d=b.getAvailableEvents();for(var e in d){var f="leafletDirectiveMarker.myMap."+d[e];a.$on(f,function(b,c){a.eventDetected=b.name})}}]),c.controller("MarkersEventsWithIDController",["$scope","leafletMarkerEvents",function(a,b){a.center={lat:51.505,lng:-.09,zoom:8},a.markers={london:{lat:51.505,lng:-.09,draggable:!0,message:"I'm a draggable marker",focus:!0}},a.events={markers:{enable:b.getAvailableEvents()}},a.eventDetected="No events yet...";var c=b.getAvailableEvents();for(var d in c){var e="leafletDirectiveMarker."+c[d];a.$on(e,function(b,c){a.eventDetected=b.name})}}]),c.controller("MarkersGroupController",["$scope",function(b){var c={blue:{type:"div",iconSize:[10,10],className:"blue",iconAnchor:[5,5]},red:{type:"div",iconSize:[10,10],className:"red",iconAnchor:[5,5]}};a.extend(b,{london:{lat:51.505,lng:-.09,zoom:11},layers:{baselayers:{openStreetMap:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}},overlays:{red:{type:"group",name:"red",visible:!1},blue:{type:"group",name:"blue",visible:!1}}},markers:{stoke:{layer:"blue",lat:51.5615,lng:-.0731,icon:c.blue},dalston:{layer:"blue",lat:51.545,lng:-.07,icon:c.blue},wandsworth:{layer:"red",lat:51.4644,lng:-.1924,icon:c.red},battersea:{layer:"red",lat:51.4638,lng:-.1677,icon:c.red}},toggleLayer:function(a){b.layers.overlays[a].visible=!b.layers.overlays[a].visible}})}]),c.controller("MarkersIconsController",["$scope",function(b){a.extend(b,{chicago:{lat:41.85,lng:-87.65,zoom:8},markers:{m1:{lat:41.85,lng:-87.65,message:"I'm a static marker with defaultIcon",focus:!1,icon:{}}},defaultIcon:{},leafIcon:{iconUrl:"img/leaf-green.png",shadowUrl:"img/leaf-shadow.png",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]},orangeLeafIcon:{iconUrl:"img/leaf-orange.png",shadowUrl:"img/leaf-shadow.png",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]},divIcon:{type:"div",iconSize:[200,0],popupAnchor:[0,0],html:"Using <strong>Bold text as an icon</strong>:"},awesomeMarkerIcon:{type:"awesomeMarker",icon:"tag",markerColor:"red"},vectorMarkerIcon:{type:"vectorMarker",icon:"tag",markerColor:"red"},makiMarkerIcon:{type:"makiMarker",icon:"beer",color:"#f00",size:"l"},extraMarkerIcon:{type:"extraMarker",icon:"fa-star",markerColor:"#f00",prefix:"fa",shape:"circle"}})}]),c.controller("MarkersLabelController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{main_marker:{lat:51.5,lng:0,focus:!0,title:"Marker",draggable:!0,label:{message:"Hey, drag me if you want",options:{noHide:!0}}}}})}]),c.controller("MarkersModalMarkerClusterController",["$scope","leafletData",function(b,c){var d=[];d.push({lat:52.229676,lng:21.012229,draggable:!1,group:"markers"}),d.push({lat:52.219081,lng:21.025386,draggable:!1,group:"markers"}),a.extend(b,{defaults:{maxZoom:18,minZoom:0},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:"© OpenStreetMap contributors",continuousWorld:!0}}}},center:{zoom:10,lat:52.229676,lng:21.012229},markers:{m1:{lat:52.229676,lng:21.012229,draggable:!1,group:"markers"},m2:{lat:52.219081,lng:21.025386,draggable:!1,group:"markers"}}});var e;c.getMap().then(function(a){e=a}),b.showModal=function(){$(".ui.modal").modal("show"),e.invalidateSize()}}]),c.controller("MarkersPopupController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{m1:{lat:51.505,lng:-.09,focus:!0,draggable:!1,message:"Hi there!",icon:{}}},events:{markers:{enable:["dragend"]}}}),b.$on("leafletDirectiveMarker.dragend",function(a,c){console.log("hola"),b.markers.m1.lat=c.model.lat,b.markers.m1.lng=c.model.lng})}]),c.controller("MarkersRotationController",["$scope",function(b){var c={m1:{lat:41.95,lng:-87.65,message:"I'm a static marker at 0 degrees",focus:!1,iconAngle:0},m2:{lat:41.85,lng:-87.95,message:"I'm a static marker at 270 degrees",focus:!1,iconAngle:270},m3:{lat:41.85,lng:-87.05,message:"I'm a static marker at 90 degrees",focus:!1,iconAngle:90},m4:{lat:41.35,lng:-87.65,message:"I'm a static marker at 180 degrees",focus:!1,iconAngle:180}};a.extend(b,{chicago:{lat:41.85,lng:-87.65,zoom:8},markers:c})}]),c.controller("MarkersSimpleController",["$scope",function(b){var c={lat:51,lng:0,focus:!0,message:"Hey, drag me if you want",draggable:!0};a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},markers:{mainMarker:a.copy(c)},position:{lat:51,lng:0},events:{markers:{enable:["dragend"]}}}),b.$on("leafletDirectiveMarker.dragend",function(a,c){b.position.lat=c.model.lat,b.position.lng=c.model.lng})}]),c.controller("MarkersTwoMapsEventsController",["$scope","leafletData",function(b,c,d){var e=[];e.push({lat:52.229676,lng:21.012229,draggable:!1}),e.push({lat:52.219081,lng:21.025386,draggable:!1}),a.extend(b,{defaults:{maxZoom:18,minZoom:0,scrollWheelZoom:!1},events:{map:{enable:[],logic:"emit"},marker:{enable:["click"],logic:"emit"}},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{
subdomains:["a","b","c"],attribution:"© OpenStreetMap contributors",continuousWorld:!0}}}},center:{zoom:13,lat:52.229676,lng:21.012229},markers:e});var f=[];f.push({lat:52.229676,lng:21.012229,draggable:!1}),f.push({lat:52.219081,lng:21.025386,draggable:!1}),a.extend(b,{defaults2:{maxZoom:18,minZoom:0,scrollWheelZoom:!1},events2:{map:{enable:[],logic:"emit"},marker:{enable:["click"],logic:"emit"}},layers2:{baselayers:{mapbox:{name:"Mapbox Terrain",url:"http://a.tiles.mapbox.com/v3/examples.map-i86nkdio/{z}/{x}/{y}.png",type:"xyz"}}},center2:{zoom:13,lat:52.229676,lng:21.012229},markers2:f}),b.$on("leafletDirectiveMarker.click",function(a,b){console.log(b)})}]),c.controller("MixedGeoJSONEventsController",["$scope","$http",function(b,c){function d(a,b){a=a.feature,console.log(a.properties.name)}function e(a){if(!a||!a["region-code"])return"#FFF";var b=h[a["region-code"]].colors,c=a["alpha-3"].charCodeAt(0)%b.length;return b[c]}function f(a){return{fillColor:e(b.countries[a.id]),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function g(a,c){var d=c.target;d.setStyle({weight:2,color:"#666",fillColor:"white"}),d.bringToFront(),b.selectedCountry=a,console.log(a)}b.$on("leafletDirectiveGeoJson.mouseover",function(a,b){g(b.leafletObject.feature,b.leafletEvent)}),b.$on("leafletDirectiveGeoJson.click",function(a,b){d(b.leafletObject,b.leafletEvent)});var h={"009":{name:"Oceania",colors:["#CC0066","#993366","#990066","#CC3399","#CC6699"]},"019":{name:"America",colors:["#006699","#336666","#003366","#3399CC","#6699CC"]},150:{name:"Europe",colors:["#FF0000","#CC3333","#990000","#FF3333","#FF6666"]},"002":{name:"Africa",colors:["#00CC00","#339933","#009900","#33FF33","#66FF66"]},142:{name:"Asia",colors:["#FFCC00","#CC9933","#999900","#FFCC33","#FFCC66"]}};a.extend(b,{center:{lat:40.8471,lng:14.0625,zoom:2},legend:{colors:["#CC0066","#006699","#FF0000","#00CC00","#FFCC00"],labels:["Oceania","America","Europe","Africa","Asia"]}}),c.get("json/all.json").success(function(d,e){b.countries={};for(var g=0;g<d.length;g++){var h=d[g];b.countries[h["alpha-3"]]=h}c.get("json/countries.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:f,resetStyleOnMouseout:!0},selectedCountry:{}})})})}]),c.controller("MixedGeoJSONEventsWithIDController",["$scope","$http",function(b,c){function d(a,b){a=a.feature,console.log(a.properties.name)}function e(a){if(!a||!a["region-code"])return"#FFF";var b=h[a["region-code"]].colors,c=a["alpha-3"].charCodeAt(0)%b.length;return b[c]}function f(a){return{fillColor:e(b.countries[a.id]),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}}function g(a,c){var d=c.target;d.setStyle({weight:2,color:"#666",fillColor:"white"}),d.bringToFront(),b.selectedCountry=a,console.log(a)}b.$on("leafletDirectiveGeoJson.myMap.mouseover",function(a,b){g(b.leafletObject.feature,b.leafletEvent)}),b.$on("leafletDirectiveGeoJson.myMap.click",function(a,b){d(b.leafletObject,b.leafletEvent)});var h={"009":{name:"Oceania",colors:["#CC0066","#993366","#990066","#CC3399","#CC6699"]},"019":{name:"America",colors:["#006699","#336666","#003366","#3399CC","#6699CC"]},150:{name:"Europe",colors:["#FF0000","#CC3333","#990000","#FF3333","#FF6666"]},"002":{name:"Africa",colors:["#00CC00","#339933","#009900","#33FF33","#66FF66"]},142:{name:"Asia",colors:["#FFCC00","#CC9933","#999900","#FFCC33","#FFCC66"]}};a.extend(b,{center:{lat:40.8471,lng:14.0625,zoom:2},legend:{colors:["#CC0066","#006699","#FF0000","#00CC00","#FFCC00"],labels:["Oceania","America","Europe","Africa","Asia"]}}),c.get("json/all.json").success(function(d,e){b.countries={};for(var g=0;g<d.length;g++){var h=d[g];b.countries[h["alpha-3"]]=h}c.get("json/countries.geo.json").success(function(c,d){a.extend(b,{geojson:{data:c,style:f,resetStyleOnMouseout:!0},selectedCountry:{}})})})}]),c.controller("MixedLayersOverlaysGeoJSONController",["$scope",function(b){a.extend(b,{sanfrancisco:{lat:37.79,lng:-122.4,zoom:17},defaults:{scrollWheelZoom:!1},layers:{baselayers:{osm:{name:"OpenStreetMap (XYZ)",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{buildings:{name:"Buildings",type:"geoJSON",url:"http://tile.openstreetmap.us/vectiles-buildings/{z}/{x}/{y}.json",layerOptions:{style:{color:"#00D",fillColor:"#00D",weight:1,opacity:.6,fillOpacity:.2}},pluginOptions:{cliptiles:!0}},Roads:{name:"Roads",type:"geoJSON",url:"http://tile.openstreetmap.us/vectiles-skeletron/{z}/{x}/{y}.json",layerOptions:{style:{color:"#DD0000 ",fillColor:"#DD0000",weight:1,fillOpacity:.4}},pluginOptions:{cliptiles:!1}}}}})}]),c.controller("MixedMOverlaysMarkersNestedNoWatchController",["$scope","leafletData","$timeout",function(b,c,d){var e;d(function(){e=a.extend({},b.markers),b.markers={}},1e3),d(function(){c.getDirectiveControls().then(function(a){for(var c in e){var d=e[c];for(var f in d){var g=d[f];g.lat+=.05}}b.markers=e,a.markers.create(b.markers)})},4e3),a.extend(b,{markersWatchOptions:{doWatch:!1,isDeep:!1,individual:{doWatch:!1,isDeep:!1}},center:{lat:42.20133,lng:2.1911,zoom:11},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cycle:{name:"OpenCycleMap",type:"xyz",url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.opencyclemap.org/copyright">OpenCycleMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{hillshade:{name:"Hillshade Europa",type:"wms",url:"http://129.206.228.72/cached/hillshade",visible:!0,layerOptions:{layers:"europe_wms:hs_srtm_europa",format:"image/png",opacity:.25,attribution:"Hillshade layer by GIScience http://www.osm-wms.de",crs:L.CRS.EPSG900913}},fire:{name:"OpenFireMap",type:"xyz",url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",layerOptions:{attribution:'&copy; <a href="http://www.openfiremap.org">OpenFireMap</a> contributors - &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}},cars:{name:"Cars",type:"group",visible:!0},bikes:{name:"Bicycles",type:"group",visible:!1},runners:{name:"Runners",type:"group",visible:!1}}},markers:{cars:{m1:{lat:42.20133,lng:2.1911,message:"I'm a car"},m2:{lat:42.21133,lng:2.1811,message:"I'm a car"}},bikes:{m3:{lat:42.19133,lng:2.1811,layer:"bikes",message:"A bike!!"},m4:{lat:42.3,lng:2.1611,layer:"bikes"}},runners:{m5:{lat:42.1,lng:2.1691},m6:{lat:42.15,lng:2.1711}}}})}]),c.controller("MixedMapboxTilesGeojsonController",["$scope","$http",function(b,c){a.extend(b,{center:{lat:-33.8979173,lng:151.2323598,zoom:14},tiles:{name:"Mapbox Park",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",options:{apikey:"pk.eyJ1IjoiZmVlbGNyZWF0aXZlIiwiYSI6Ik1Gak9FXzAifQ.9eB142zVCM4JMg7btDDaZQ",mapid:"feelcreative.llm8dpdk"}},geojson:{}}),c.get("https://a.tiles.mapbox.com/v4/feelcreative.llm8dpdk/features.json?access_token=pk.eyJ1IjoiZmVlbGNyZWF0aXZlIiwiYSI6Ik1Gak9FXzAifQ.9eB142zVCM4JMg7btDDaZQ").success(function(a){b.geojson.data=a,console.log(a)})}]),c.controller("MixedMarkersNestedEventsController",["$scope","leafletEvents",function(a,b){a.map={show:!0},a.layers={baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",layerOptions:{subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',continuousWorld:!0}}},overlays:{london:{name:"London",type:"group",visible:!0}}},a.center={lat:51.505,lng:-.09,zoom:8},a.markers={london:{1:{lat:51.505,lng:-.09,draggable:!0,focus:!0}}},a.events={markers:{enable:b.getAvailableMarkerEvents()}},a.eventDetected="No events yet...";var c=b.getAvailableMarkerEvents();for(var d in c){var e="leafletDirectiveMarker."+c[d];a.$on(e,function(b,c){a.eventDetected=b.name,a.args={layerName:c.layerName,model:c.model,modelName:c.modelName}})}}]),c.controller("PathEventsController",["$scope","leafletLogger",function(b,c){var d={};b.clicked=0;var e={"Fort Carroll":{lat:39.214766,lng:-76.519003},"Gibson Island":{lat:39.077642,lng:-76.433344},"Solomons Island":{lat:38.320145,lng:-76.457334}};a.forEach(e,function(a,b){d[b]={type:"circleMarker",latlngs:a,stroke:!1,fillColor:"#00FFFF",fillOpacity:.7,radius:10,clickable:!0}}),a.extend(b,{center:{lat:38.976492,lng:-76.49231,zoom:8},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}}},events:{path:{enable:["click","mouseover"]}},paths:d}),b.$on("leafletDirectivePath.myMap.click",function(a){b.clicked++}),b.$on("leafletDirectivePath.myMap.mouseover",function(a,c){b.mouseover=c.modelName})}]),c.controller("PathEventsWithIDController",["$scope","leafletLogger",function(b,c){var d={};b.clicked=0;var e={"Fort Carroll":{lat:39.214766,lng:-76.519003},"Gibson Island":{lat:39.077642,lng:-76.433344},"Solomons Island":{lat:38.320145,lng:-76.457334}};a.forEach(e,function(a,b){d[b]={type:"circleMarker",latlngs:a,stroke:!1,fillColor:"#00FFFF",fillOpacity:.7,radius:10,clickable:!0}}),a.extend(b,{center:{lat:38.976492,lng:-76.49231,zoom:8},layers:{baselayers:{xyz:{name:"OpenStreetMap (XYZ)",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}}},events:{path:{enable:["click","mouseover"]}},paths:d}),b.$on("leafletDirectivePath.click",function(a){b.clicked++}),b.$on("leafletDirectivePath.mouseover",function(a,c){b.mouseover=c.modelName})}]),c.controller("PathSimpleController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},europeanPaths:{p1:{color:"red",weight:8,latlngs:[{lat:51.5,lng:-.082},{lat:48.83,lng:2.37},{lat:41.91,lng:12.48}],message:"<h3>Route from London to Rome</h3><p>Distance: 1862km</p>"},p2:{color:"green",weight:8,latlngs:[{lat:48.2083537,lng:16.3725042},{lat:48.8534,lng:2.3485}],label:{message:"<h3>Route from Vienna to Paris</h3><p>Distance: 1211km</p>"}}}})}]),c.controller("PathTypesController",["$scope",function(b){var c={Madrid:{lat:40.4,lng:-3.6833333},Rome:{lat:41.9,lng:12.4833333},London:{lat:51.5,lng:-.116667},Lisbon:{lat:38.7166667,lng:-9.1333333},Berlin:{lat:52.5166667,lng:13.4},Paris:{lat:48.866667,lng:2.333333},Brussels:{lat:50.8333,lng:4}},d={polyline:{type:"polyline",latlngs:[c.London,c.Madrid,c.Rome]},multiPolyline:{type:"multiPolyline",latlngs:[[c.London,c.Lisbon],[c.Paris,c.Madrid],[c.Rome,c.Berlin]]},polygon:{type:"polygon",latlngs:[c.London,c.Lisbon,c.Madrid,c.Paris]},multiPolygon:{type:"multiPolygon",latlngs:[[c.London,c.Lisbon,c.Madrid,c.Paris],[c.Berlin,c.Rome,c.Brussels]]},rectangle:{type:"rectangle",latlngs:[c.Berlin,c.Lisbon]},circle:{type:"circle",radius:5e5,latlngs:c.Brussels},circleMarker:{type:"circleMarker",radius:50,latlngs:c.Rome}};a.extend(b,{center:{lat:51.505,lng:-.09,zoom:3},paths:{}}),b.addShape=function(a){b.paths={},b.paths[a]=d[a]}}]),c.controller("Paths3000ItemsController",["$scope","leafletData","LocationDataService",function(b,c,d){a.extend(b,{defaults:{scrollWheelZoom:!1},maxbounds:{northEast:{lat:90,lng:-180},southWest:{lat:-90,lng:180}},centroid:{lat:50,lng:10,zoom:3},layers:{baselayers:{stamen:{name:"StamenWatercolor",url:"http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.png",type:"xyz"}}}}),b.paths={},b.$watch("centroid.zoom",function(c){3>=c&&(b.paths={},d.getLocationsTenGrid().then(function(c){a.forEach(c.data,function(a,c){null!==a.lat&&null!==a.lon&&(b.paths["circle"+c]={type:"circle",className:"testClass",fillColor:"DarkSlateGray",color:"#000000",weight:0,opacity:1,fillOpacity:.8,stroke:!1,clickable:!1,latlngs:[parseFloat(a.lat),parseFloat(a.lon)],radius:5e3*Math.sqrt(a.location_count)})})},function(a){console.log("An error occured!",a)})),c>=4&&(b.paths={},d.getLocationsZeroOneGrid().then(function(c){a.forEach(c.data,function(a,c){null!==a.lat&&null!==a.lon&&(b.paths["circle"+c]={type:"circle",className:"testClass",fillColor:"DarkSlateGray",color:"#000000",weight:0,opacity:1,fillOpacity:.8,stroke:!1,clickable:!1,latlngs:[parseFloat(a.lat),parseFloat(a.lon)],radius:2e3*Math.sqrt(a.location_count)})})},function(a){console.log("An error occured!",a)}))})}]),c.factory("LocationDataService",b),b.$inject=["$http"],c.controller("PathsAdvancedController",["$scope",function(b){b.addMarker=function(){var a=document.getElementById("new_mm_name").value;b.markers[a]||(b.markers[a]={lat:document.getElementById("new_mm_lat").value,lng:document.getElementById("new_mm_lng").value,draggable:!0},b.paths.p1.latlngs.push(b.markers[a]))},b.deleteMarker=function(a){var c=b.markers[a];for(var d in b.paths)for(var e in b.paths[d].latlngs){var f=b.paths[d].latlngs[e];f===c&&b.paths[d].latlngs.splice(e,1)}delete b.markers[a]},a.extend(b,{cen:{lat:53,lng:-3,zoom:6},markers:{London:{lat:51.5,lng:-.082,draggable:!1},Manchester:{lat:53.48,lng:-2.24,draggable:!0},Lincoln:{lat:53.230495,lng:-.53936,draggable:!0},Northhampton:{lat:52.237892,lng:-.90087,draggable:!0},Worcester:{lat:52.187404,lng:-2.20275,draggable:!0},York:{lat:53.959317,lng:-1.08215,draggable:!0}}}),a.extend(b,{paths:{p1:{color:"#008000",weight:4,latlngs:[b.markers.London,b.markers.Manchester]},p2:{weight:3,opacity:.5,latlngs:[[b.markers.London,b.markers.Lincoln],[b.markers.Manchester,b.markers.Worcester]],type:"multiPolyline"},c1:{weight:2,color:"#ff612f",latlngs:b.markers.Northhampton,radius:1e4,type:"circle"},c2:{weight:2,color:"#ff612f",latlngs:b.markers.Lincoln,radius:50,type:"circleMarker"},pg1:{latlngs:[b.markers.London,b.markers.Worcester,b.markers.Lincoln],stroke:!1,fillColor:"#ff69b4",type:"polygon"},pg2:{weight:1,color:"#2e3974",latlngs:[[b.markers.London,b.markers.Worcester,b.markers.Northhampton],[b.markers.Manchester,b.markers.Lincoln,b.markers.York]],type:"multiPolygon"},r1:{latlngs:[b.markers.Lincoln,b.markers.York],type:"rectangle"}}})}]),c.controller("PathsAjaxLoadController",["$scope","$http",function(b,c){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:4},europeanPaths:{}}),b.loadPaths=function(){c.get("json/paths.json").success(function(a){b.europeanPaths=a})},b.changePaths=function(){console.log(b.europeanPaths),b.europeanPaths.p1.latlngs[0]={lat:53,lng:-.1}}}]),c.controller("PathsChangeInGroupLayerController",["$scope","leafletData",function(b,c){b.changePaths=function(){b.paths={p2:{color:"#FC0",weight:8,latlngs:[{lat:52.5,lng:-.082},{lat:42.91,lng:12.48}],layer:"test"}}},a.extend(b,{center:{lat:51.505,lng:-.09,zoom:4},paths:{p1:{color:"#000",weight:8,latlngs:[{lat:51.5,lng:-.082},{lat:41.91,lng:12.48}],layer:"test"}},layers:{baselayers:{osm:{name:"OpenStreetMap",type:"xyz",url:"http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg",layerOptions:{subdomains:"1234",attribution:"test"}}},overlays:{test:{name:"Test",visible:!0,type:"group"}}}})}]),c.controller("PathsDecorationsSimpleController",["$scope",function(b){a.extend(b,{london:{lat:51.505,lng:-.09,zoom:8},decorations:{markers:{coordinates:[[51.9,-.4],[51.505,-.09],[51,-.4]],patterns:[{offset:12,repeat:25,symbol:L.Symbol.dash({pixelSize:10,pathOptions:{color:"#f00",weight:2}})},{offset:0,repeat:25,symbol:L.Symbol.dash({pixelSize:0})}]}}}),b.changePattern=function(a){"dot"===a?b.decorations.markers.patterns=[{offset:0,repeat:10,symbol:L.Symbol.dash({pixelSize:0})}]:"slash"===a?b.decorations.markers.patterns=[{offset:12,repeat:25,symbol:L.Symbol.dash({pixelSize:10,pathOptions:{color:"#f00",weight:2}})}]:"slashdot"===a?b.decorations.markers.patterns=[{offset:12,repeat:25,symbol:L.Symbol.dash({pixelSize:10,pathOptions:{color:"#f00",weight:2}})},{offset:0,repeat:25,symbol:L.Symbol.dash({pixelSize:0})}]:"arrow"===a&&(b.decorations.markers.patterns=[{offset:12,repeat:25,symbol:L.Symbol.dash({pixelSize:18,pathOptions:{color:"#f00",weight:4}})},{offset:"10%",repeat:25,symbol:L.Symbol.arrowHead({pixelSize:10,polygon:!1,pathOptions:{stroke:!0}})}])}}])}(a);var k=a.module("webapp.services",[]);k.factory("Examples",c),c.$inject=["$http","$q"];var k=a.module("webapp.documentation",[]);k.controller("DocumentationController",d);var k=a.module("webapp.examples",[]);k.controller("ExamplesController",e),e.$inject=["$routeParams","$http","Examples"];var k=a.module("webapp.exlist",[]);k.controller("ExlistController",f),f.$inject=["$q","$http","Examples"];var k=a.module("webapp.extend",[]);k.controller("ExtendController",[g]);var k=a.module("webapp.home",[]);k.controller("HomeController",[i]),k.controller("HomeFirstExampleController",["$scope",h]);var k=a.module("webapp.void",[]);k.controller("VoidController",j)}(window.angular);
}(angular));